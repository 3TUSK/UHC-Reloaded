plugins {
    id "org.spongepowered.plugin" version "0.5.1"
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

repositories {
    maven {
        name 'Sponge maven repo'
        url 'http://repo.spongepowered.org/maven'
    }
    maven {
        name = 'minecrell-releases'
        url = 'http://repo.minecrell.net/releases'
    }
}

apply plugin: "org.spongepowered.plugin"

dependencies {
    compile "org.spongepowered:spongeapi:${project.apiVersion}"
    shadow 'net.minecrell.mcstats:statslite-sponge:0.2.2'
}

//tasks.getByPath(':sponge:jar').enabled = false

import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar

task pluginJar(type: ShadowJar) {
    classifier = 'plugins'
    configurations = [configurations.shadow]
    from sourceSets.main.output
}

artifacts {
    archives pluginJar
}
